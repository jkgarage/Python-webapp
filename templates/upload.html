{% extends "master_layout.html" %}
{% block content %}
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/4.4.5/css/fileinput.min.css" media="all" rel="stylesheet" type="text/css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/4.4.5/js/fileinput.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // initialize with defaults
    $("#photo").fileinput();
     
    // with plugin options
    $("#photo").fileinput({'showUpload':false, 'previewFileType':'image'});
  });
    
  </script>
  <h2>Upload photo</h2>
  
  <form action="#" method="post" role="form" enctype="multipart/form-data">
    {{ form.hidden_tag() }}
    <input type="file" id="photo" name="photo" accept=".jpg, .png, .jpeg, .bmp">
  </form>

  <br>
      {% if error : %}
        <div id="error-msg" class="alert alert-warning">
          {{ error }}
        </div>
          <script type="text/javascript">
              setTimeout(function(){ $('#error-msg').hide(); }, 4000);
          </script>
      {% endif %}
  <br>
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
 
        {% for message in messages %}
            {% if "Error" not in message[1]: %}
                <div id="success-msg" class="alert alert-info">
                <strong>Congratulation! </strong> {{ message[1] }}
                </div>
                <script type="text/javascript">
                    setTimeout(function(){ $('#success-msg').hide(); }, 10000);
                </script>
            {% endif %}
        {% endfor %}
            {% endif %}
        {% endwith %}
 
</div>
<br>            
</div>

{% endblock %}